<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's Surprise</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #fce4ec; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; text-align: center; }
        .container { background: white; padding: 30px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); width: 85%; max-width: 350px; }
        img { width: 160px; margin-bottom: 20px; border-radius: 15px; }
        h1 { color: #d63384; font-size: 1.4rem; margin-bottom: 10px; }
        .buttons { margin-top: 20px; display: flex; flex-direction: column; gap: 10px; align-items: center; min-height: 200px; justify-content: center; }
        button { padding: 12px 25px; font-size: 1.1rem; border: none; border-radius: 15px; cursor: pointer; transition: 0.2s; width: fit-content; }
        #yesBtn { background: #ff4d6d; color: white; font-weight: bold; }
        #noBtn { background: #f0f0f0; color: #888; font-size: 0.9rem; }
        .share-btn { background: #007aff; color: white; margin-top: 20px; padding: 15px 25px; border-radius: 15px; border: none; font-weight: 600; cursor: pointer; font-size: 1rem; width: 100%; }
    </style>
</head>
<body>
    <div class="container" id="content">
        <img id="mainGif" src="" alt="Sticker">
        <h1 id="question">Will you be my valentine?</h1>
        <div class="buttons">
            <button id="yesBtn">Yes</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name') || "Sweetie";
        const stickerId = urlParams.get('sticker') || '1';

        const stickers = {
            '1': 'https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueGZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/c76IJLufpNwSULPk2m/giphy.gif',
            '2': 'https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueGZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/KztT2c4u8mYYUiMKdJ/giphy.gif',
            '3': 'https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueGZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4bmZ4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/MDJ9IbMvC0Xv2/giphy.gif'
        };

        document.getElementById('question').innerText = `${name}, will you be my valentine? ‚ù§Ô∏è`;
        document.getElementById('mainGif').src = stickers[stickerId] || stickers['1'];

        let yesSize = 1.1;
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');

        noBtn.addEventListener('click', () => {
            yesSize += 0.4;
            yesBtn.style.fontSize = yesSize + "rem";
            yesBtn.style.padding = (yesSize * 10) + "px " + (yesSize * 20) + "px";
        });

        yesBtn.addEventListener('click', () => {
            const shareData = {
                title: 'Valentine Response',
                text: `I said YES to ${name}'s Valentine request! ‚ù§Ô∏è‚ú®`,
                url: window.location.href
            };

            document.getElementById('content').innerHTML = `
                <img src="https://media.giphy.com/media/UMfM9VfO5i9q/giphy.gif">
                <h1>YAY! ‚ù§Ô∏è</h1>
                <p>Tell him the good news!</p>
                <button class="share-btn" id="shareBtn">Send my answer üíå</button>
            `;

            document.getElementById('shareBtn').addEventListener('click', async () => {
                try {
                    await navigator.share(shareData);
                } catch (err) {
                    // fallback if share is not supported
                    alert("I said YES! ‚ù§Ô∏è");
                }
            });
        });
    </script>
</body>
</html>
